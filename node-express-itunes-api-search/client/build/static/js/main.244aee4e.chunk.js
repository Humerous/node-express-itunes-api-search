(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{33:function(e,t,a){e.exports=a(65)},38:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},61:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),l=a(26),c=a.n(l),s=(a(38),a(39),a(14)),o=a.n(s),u=a(27),i=a(30),m=a(28),d=a(29),v=a(32),f=a(31),E=a(10),h=a.n(E),p=(a(57),a(70)),k=a(71),g=a(72),N=(a(58),a(66)),S=a(67),b=a(68),A=a(69);var F=function(e){return n.a.createElement(N.a,{className:"SearchForm"},n.a.createElement(S.a,{onSubmit:e.searchAPIitunes},n.a.createElement(b.a,{type:"text",name:"term",placeholder:"Search titles or genres..."}),n.a.createElement("select",{name:"media"},n.a.createElement("option",{value:"all"},"All"),n.a.createElement("option",{value:"music"},"Music"),n.a.createElement("option",{value:"audiobook"},"Audio Book"),n.a.createElement("option",{value:"musicVideo"},"Music Video"),n.a.createElement("option",{value:"movie"},"Movie"),n.a.createElement("option",{value:"tvShow"},"TV Show"),n.a.createElement("option",{value:"podcast"},"Podcast"),n.a.createElement("option",{value:"ebook"},"E Book")),n.a.createElement(A.a,{color:"primary"},"Search")))},O=(a(61),a(11));var I=function(e){var t=e.results,a=e.err,r=e.addFavourites,l=e.favourites;return n.a.createElement(p.a,{fluid:!0},a&&n.a.createElement("p",{className:"ResultAllError"},a),n.a.createElement(k.a,{xs:1,md:2,lg:3},t.map((function(e,t){return n.a.createElement(g.a,{key:t,className:"ResultOuterContainer"},n.a.createElement("img",{className:"ResultSmallImg",src:e.artworkUrl100,alt:"search-result"}),n.a.createElement("div",{className:"ResultAllDetails"},n.a.createElement("p",{className:"ResultsAllTitle ml-2"},e.trackName),n.a.createElement("p",{className:"ResultsAllImage ml-2"},e.artistName),n.a.createElement("p",{className:"ResultsAllMedia ml-2"},function(e){if(null==e||""===e)return"";var t=e.split("-"),a="";return t.forEach((function(e,r){a+=e[0].toUpperCase()+e.substring(1),r!==t.length-1&&(a+=" ")})),a}(e.kind))),n.a.createElement("div",{className:"ResultAllBtn"},n.a.createElement(O.a,{icon:["fas","thumbs-up"],className:"fas fa-thumbs-up thumbBtn ml-2",onClick:function(){return r(e)},style:{color:(a=e.trackId,l.some((function(e){return e.trackId===a}))?"#ec0101":"white")}})));var a}))))},y=a(73);a(64);var w=function(e){var t=e.favourites,a=e.deleteFavourite;return n.a.createElement("div",null,n.a.createElement(y.a,{responsive:!0,hover:!0,variant:"dark",size:"md"},n.a.createElement("thead",{className:"TableHead"},n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"2"},"Title"),n.a.createElement("th",null,"Artist"),n.a.createElement("th",{colSpan:"2"},"Genre"))),n.a.createElement("tbody",null,t.map((function(e,t){return n.a.createElement("tr",{key:t},n.a.createElement("td",{colSpan:"2"},e.title),n.a.createElement("td",null,e.artist),n.a.createElement("td",null,function(e){if(null==e||""===e)return"";var t=e.split("-"),a="";return t.forEach((function(e,r){a+=e[0].toUpperCase()+e.substring(1),r!==t.length-1&&(a+=" ")})),a}(e.kind)),n.a.createElement("td",null,n.a.createElement(O.a,{icon:["fas","dumpster"],className:"fas fa-dumpster dumpsterBtn",onClick:function(){return a(e.trackId)}})))})))))},C=a(9),R=a(15);C.b.add(R.b,R.a);var j=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).state={results:[],favourites:[],error:void 0},e.componentWillMount=function(){h.a.get("/api/favourites").then((function(t){console.log(t.data),e.setState({favourites:t.data})}),(function(t){console.log(t),e.setState({error:t,favourites:[]})}))},e.addFavourites=function(t){h.a.post("/api/favourites",{trackId:t.trackId,title:t.trackName,artist:t.artistName,kind:t.kind}).then((function(t){var a=Object(i.a)(e.state.favourites);a.push(t.data),e.setState({favourites:a})})).catch((function(e){return console.log("".concat(e))}))},e.deleteFavourite=function(t){h.a.delete("/api/favourites",{params:{"track-id":t}}).then((function(a){var r=e.state.favourites.filter((function(e){return e.trackId!==t}));e.setState({favourites:r})})).catch((function(e){return console.log("Error message: ".concat(e))}))},e.searchAPIitunes=function(){var t=Object(u.a)(o.a.mark((function t(a){var r,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),r=a.target.term.value,n=a.target.media.value,h.a.get("/api/favourites/".concat(r,"/").concat(n)).then((function(t){e.setState({results:t.data})})).catch((function(e){return console.log("Error message: ".concat(e))}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement(p.a,{fluid:!0},n.a.createElement(k.a,null,n.a.createElement(g.a,{sm:8,md:8,lg:8},n.a.createElement("div",{className:"SearchOuterShell"},n.a.createElement("div",{className:"SearchOuterContent"},n.a.createElement("div",{className:"SearchOuterHeader"},n.a.createElement("h1",{className:"SearchOuterHeading"},"Search"),n.a.createElement(F,{searchAPIitunes:this.searchAPIitunes})),n.a.createElement(I,{results:this.state.results,error:this.state.error,addFavourites:this.addFavourites,favourites:this.state.favourites})))),n.a.createElement(g.a,{sm:4,md:4,lg:4},n.a.createElement("div",{className:"FavOuterShell"},n.a.createElement("div",{className:"FavOuterContent"},n.a.createElement("div",{className:"FavOuterHeader"},n.a.createElement("h1",{className:"FavHeading"},"Favourites")),n.a.createElement(w,{favourites:this.state.favourites,deleteFavourite:this.deleteFavourite}))))))}}]),a}(n.a.Component);c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(j,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.244aee4e.chunk.js.map